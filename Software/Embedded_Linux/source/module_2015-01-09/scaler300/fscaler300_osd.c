#include <linux/types.h>
#include <linux/kernel.h>
#include <linux/module.h>

#include "fscaler300.h"
#include "fscaler300_vg.h"
#include "fscaler300_osd.h"
#include <common.h>
#include <video_entity.h>   //include video entity manager

extern int max_minors;

static scl_osd_char_t SCALER300_OSD_Default_Char[] = {
    {
        .font=0x20,    //Char:[ ]
        .fbitmap={0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x21,    //Char:[!]
        .fbitmap={0x00,0x00,0x1e,0x00,0x1e,0x00,0x1e,0x00,0x1e,0x00,0x1e,0x00,0x1e,0x00,0x1e,0x00,0x1e,0x00,0x00,0x00,0x00,0x00,0x1e,0x00,0x1e,0x00,0x1e,0x00,0x1e,0x00,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x22,    //Char:["]
        .fbitmap={0x00,0x00,0x19,0x80,0x19,0x80,0x19,0x80,0x19,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x23,    //Char:[#]
        .fbitmap={0x00,0x00,0x19,0x80,0x19,0x80,0x19,0x80,0x19,0x80,0x7f,0xe0,0x7f,0xe0,0x19,0x80,0x19,0x80,0x7f,0xe0,0x7f,0xe0,0x19,0x80,0x19,0x80,0x19,0x80,0x19,0x80,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x24,    //Char:[$]
        .fbitmap={0x00,0x00,0x06,0x00,0x06,0x00,0x3f,0xe0,0x7f,0xe0,0x66,0x00,0x66,0x00,0x7f,0xc0,0x3f,0xe0,0x06,0xe0,0x06,0xe0,0x7f,0xe0,0x7f,0xc0,0x06,0x00,0x06,0x00,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x25,    //Char:[%]
        .fbitmap={0x00,0x00,0x78,0x60,0x78,0x60,0x78,0x60,0x78,0xe0,0x01,0xc0,0x03,0x80,0x07,0x00,0x0e,0x00,0x1c,0x00,0x38,0x00,0x71,0xe0,0x61,0xe0,0x61,0xe0,0x61,0xe0,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x26,    //Char:[&]
        .fbitmap={0x00,0x00,0x3c,0x00,0x7e,0x00,0x6e,0x00,0x66,0x00,0x66,0x00,0x7e,0x00,0x3c,0x00,0x3c,0x00,0x7e,0x60,0x67,0xe0,0x63,0xc0,0x63,0xc0,0x7f,0xe0,0x3e,0x60,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x27,    //Char:[']
        .fbitmap={0x00,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x28,    //Char:[(]
        .fbitmap={0x00,0x00,0x03,0x80,0x07,0x80,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x07,0x80,0x03,0x80,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x29,    //Char:[)]
        .fbitmap={0x00,0x00,0x1c,0x00,0x1e,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x1e,0x00,0x1c,0x00,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x2a,    //Char:[*]
        .fbitmap={0x00,0x00,0x19,0x80,0x1f,0x80,0x1f,0x80,0x0f,0x00,0x7f,0xe0,0x7f,0xe0,0x0f,0x00,0x1f,0x80,0x1f,0x80,0x19,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x2b,    //Char:[+]
        .fbitmap={0x00,0x00,0x00,0x00,0x00,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x7f,0xe0,0x7f,0xe0,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x2c,    //Char:[,]
        .fbitmap={0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x1e,0x00,0x1e,0x00,0x1e,0x00,0x1e,0x00,0x1c,0x00,0x18,0x00,0x00,0x00,}
    },
    {
        .font=0x2d,    //Char:[-]
        .fbitmap={0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x7f,0xe0,0x7f,0xe0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x2e,    //Char:[.]
        .fbitmap={0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x1e,0x00,0x1e,0x00,0x1e,0x00,0x1e,0x00,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x2f,    //Char:[/]
        .fbitmap={0x00,0x00,0x00,0x60,0x00,0x60,0x00,0x60,0x00,0xe0,0x01,0xc0,0x03,0x80,0x07,0x00,0x0e,0x00,0x1c,0x00,0x38,0x00,0x70,0x00,0x60,0x00,0x60,0x00,0x60,0x00,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x30,    //Char:[0]
        .fbitmap={0x00,0x00,0x3f,0xc0,0x7f,0xe0,0x60,0x60,0x60,0xe0,0x61,0xe0,0x63,0xe0,0x67,0x60,0x6e,0x60,0x7c,0x60,0x78,0x60,0x70,0x60,0x60,0x60,0x7f,0xe0,0x3f,0xc0,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x31,    //Char:[1]
        .fbitmap={0x00,0x00,0x06,0x00,0x0e,0x00,0x1e,0x00,0x1e,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x1f,0x80,0x1f,0x80,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x32,    //Char:[2]
        .fbitmap={0x00,0x00,0x3f,0xc0,0x7f,0xe0,0x60,0x60,0x60,0x60,0x00,0x60,0x00,0xe0,0x01,0xc0,0x03,0x80,0x07,0x00,0x0e,0x00,0x1c,0x00,0x38,0x00,0x7f,0xe0,0x7f,0xe0,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x33,    //Char:[3]
        .fbitmap={0x00,0x00,0x3f,0xc0,0x7f,0xe0,0x60,0x60,0x60,0x60,0x00,0x60,0x00,0x60,0x07,0xe0,0x07,0xe0,0x00,0x60,0x00,0x60,0x60,0x60,0x60,0x60,0x7f,0xe0,0x3f,0xc0,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x34,    //Char:[4]
        .fbitmap={0x00,0x00,0x01,0x80,0x01,0x80,0x61,0x80,0x61,0x80,0x61,0x80,0x61,0x80,0x61,0x80,0x61,0x80,0x7f,0xe0,0x7f,0xe0,0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x35,    //Char:[5]
        .fbitmap={0x00,0x00,0x7f,0xe0,0x7f,0xe0,0x60,0x00,0x60,0x00,0x60,0x00,0x60,0x00,0x7f,0xc0,0x7f,0xe0,0x00,0x60,0x00,0x60,0x00,0x60,0x00,0x60,0x7f,0xe0,0x7f,0xc0,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x36,    //Char:[6]
        .fbitmap={0x00,0x00,0x3f,0x80,0x7f,0x80,0x60,0x00,0x60,0x00,0x60,0x00,0x60,0x00,0x7f,0xc0,0x7f,0xe0,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x7f,0xe0,0x3f,0xc0,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x37,    //Char:[7]
        .fbitmap={0x00,0x00,0xff,0xc0,0xff,0xc0,0x00,0xc0,0x00,0xc0,0x00,0xc0,0x01,0xc0,0x03,0x80,0x07,0x00,0x0e,0x00,0x1c,0x00,0x38,0x00,0x70,0x00,0xf0,0x00,0xe0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x38,    //Char:[8]
        .fbitmap={0x00,0x00,0x3f,0xc0,0x7f,0xe0,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x7f,0xe0,0x7f,0xe0,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x7f,0xe0,0x3f,0xc0,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x39,    //Char:[9]
        .fbitmap={0x00,0x00,0x3f,0xc0,0x7f,0xe0,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x7f,0xe0,0x3f,0xe0,0x00,0x60,0x00,0x60,0x00,0x60,0x00,0x60,0x7f,0xe0,0x7f,0xc0,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x3a,    //Char:[:]
        .fbitmap={0x00,0x00,0x00,0x00,0x00,0x00,0x1e,0x00,0x1e,0x00,0x1e,0x00,0x1e,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x1e,0x00,0x1e,0x00,0x1e,0x00,0x1e,0x00,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x3b,    //Char:[;]
        .fbitmap={0x00,0x00,0x00,0x00,0x00,0x00,0x1e,0x00,0x1e,0x00,0x1e,0x00,0x1e,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x1e,0x00,0x1e,0x00,0x1e,0x00,0x1e,0x00,0x1c,0x00,0x18,0x00,0x00,0x00,}
    },
    {
        .font=0x3c,    //Char:[<]
        .fbitmap={0x00,0x00,0x03,0x80,0x03,0x80,0x07,0x00,0x0e,0x00,0x1c,0x00,0x38,0x00,0x70,0x00,0x70,0x00,0x38,0x00,0x1c,0x00,0x0e,0x00,0x07,0x00,0x07,0x80,0x03,0x80,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x3d,    //Char:[=]
        .fbitmap={0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x7f,0xe0,0x7f,0xe0,0x00,0x00,0x00,0x00,0x7f,0xe0,0x7f,0xe0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x3e,    //Char:[>]
        .fbitmap={0x00,0x00,0x18,0x00,0x1c,0x00,0x0e,0x00,0x07,0x00,0x03,0x80,0x01,0xc0,0x00,0xe0,0x00,0xe0,0x01,0xc0,0x03,0x80,0x07,0x00,0x0e,0x00,0x1c,0x00,0x18,0x00,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x3f,    //Char:[?]
        .fbitmap={0x00,0x00,0x3f,0xc0,0x7f,0xe0,0x60,0x60,0x60,0x60,0x00,0x60,0x00,0xe0,0x01,0xc0,0x03,0x80,0x07,0x00,0x06,0x00,0x00,0x00,0x00,0x00,0x06,0x00,0x06,0x00,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x40,    //Char:[@]
        .fbitmap={0x00,0x00,0x3f,0xc0,0x7f,0xe0,0x60,0x60,0x60,0x60,0x63,0xe0,0x67,0xe0,0x66,0xe0,0x66,0xe0,0x67,0xe0,0x63,0xc0,0x60,0x00,0x60,0x00,0x7f,0xe0,0x3f,0xe0,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x41,    //Char:[A]
        .fbitmap={0x00,0x00,0x3f,0xc0,0x7f,0xe0,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x7f,0xe0,0x7f,0xe0,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x42,    //Char:[B]
        .fbitmap={0x00,0x00,0x7f,0xc0,0x7f,0xe0,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x7f,0xe0,0x7f,0xe0,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x7f,0xe0,0x7f,0xc0,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x43,    //Char:[C]
        .fbitmap={0x00,0x00,0x3f,0xc0,0x7f,0xe0,0x60,0x60,0x60,0x60,0x60,0x00,0x60,0x00,0x60,0x00,0x60,0x00,0x60,0x00,0x60,0x00,0x60,0x60,0x60,0x60,0x7f,0xe0,0x3f,0xc0,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x44,    //Char:[D]
        .fbitmap={0x00,0x00,0x7f,0xc0,0x7f,0xe0,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x7f,0xe0,0x7f,0xc0,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x45,    //Char:[E]
        .fbitmap={0x00,0x00,0x7f,0xe0,0x7f,0xe0,0x60,0x00,0x60,0x00,0x60,0x00,0x60,0x00,0x7f,0x80,0x7f,0x80,0x60,0x00,0x60,0x00,0x60,0x00,0x60,0x00,0x7f,0xe0,0x7f,0xe0,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x46,    //Char:[F]
        .fbitmap={0x00,0x00,0x7f,0xe0,0x7f,0xe0,0x60,0x00,0x60,0x00,0x60,0x00,0x60,0x00,0x7f,0x80,0x7f,0x80,0x60,0x00,0x60,0x00,0x60,0x00,0x60,0x00,0x60,0x00,0x60,0x00,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x47,    //Char:[G]
        .fbitmap={0x00,0x00,0x3f,0xc0,0x7f,0xe0,0x60,0x60,0x60,0x60,0x60,0x00,0x60,0x00,0x61,0xe0,0x61,0xe0,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x7f,0xe0,0x3f,0xc0,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x48,    //Char:[H]
        .fbitmap={0x00,0x00,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x7f,0xe0,0x7f,0xe0,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x49,    //Char:[I]
        .fbitmap={0x00,0x00,0x1f,0x80,0x1f,0x80,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x1f,0x80,0x1f,0x80,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x4a,    //Char:[J]
        .fbitmap={0x00,0x00,0x00,0x60,0x00,0x60,0x00,0x60,0x00,0x60,0x00,0x60,0x00,0x60,0x00,0x60,0x00,0x60,0x00,0x60,0x00,0x60,0x60,0x60,0x60,0x60,0x7f,0xe0,0x3f,0xc0,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x4b,    //Char:[K]
        .fbitmap={0x00,0x00,0x60,0xe0,0x61,0xe0,0x61,0xc0,0x63,0x80,0x67,0x00,0x6e,0x00,0x7c,0x00,0x7c,0x00,0x7e,0x00,0x67,0x00,0x63,0x80,0x61,0xc0,0x61,0xe0,0x60,0xe0,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x4c,    //Char:[L]
        .fbitmap={0x00,0x00,0x60,0x00,0x60,0x00,0x60,0x00,0x60,0x00,0x60,0x00,0x60,0x00,0x60,0x00,0x60,0x00,0x60,0x00,0x60,0x00,0x60,0x00,0x60,0x00,0x7f,0xe0,0x7f,0xe0,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x4d,    //Char:[M]
        .fbitmap={0x00,0x00,0x60,0x60,0x70,0xe0,0x79,0xe0,0x7f,0xe0,0x6f,0x60,0x66,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x4e,    //Char:[N]
        .fbitmap={0x00,0x00,0x60,0x60,0x70,0x60,0x78,0x60,0x7c,0x60,0x6e,0x60,0x67,0x60,0x63,0xe0,0x61,0xe0,0x60,0xe0,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x4f,    //Char:[O]
        .fbitmap={0x00,0x00,0x3f,0xc0,0x7f,0xe0,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x7f,0xe0,0x3f,0xc0,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x50,    //Char:[P]
        .fbitmap={0x00,0x00,0x7f,0xc0,0x7f,0xe0,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x7f,0xe0,0x7f,0xc0,0x60,0x00,0x60,0x00,0x60,0x00,0x60,0x00,0x60,0x00,0x60,0x00,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x51,    //Char:[Q]
        .fbitmap={0x00,0x00,0x3f,0xc0,0x7f,0xe0,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x66,0xe0,0x67,0xe0,0x63,0xc0,0x63,0xc0,0x7f,0xe0,0x3e,0x60,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x52,    //Char:[R]
        .fbitmap={0x00,0x00,0x7f,0xc0,0x7f,0xe0,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x7f,0xe0,0x7f,0xe0,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x53,    //Char:[S]
        .fbitmap={0x00,0x00,0x3f,0xc0,0x7f,0xe0,0x60,0x60,0x60,0x60,0x60,0x00,0x60,0x00,0x7f,0xc0,0x3f,0xe0,0x00,0x60,0x00,0x60,0x60,0x60,0x60,0x60,0x7f,0xe0,0x3f,0xc0,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x54,    //Char:[T]
        .fbitmap={0x00,0x00,0x7f,0xe0,0x7f,0xe0,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x55,    //Char:[U]
        .fbitmap={0x00,0x00,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x7f,0xe0,0x3f,0xc0,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x56,    //Char:[V]
        .fbitmap={0x00,0x00,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x70,0xe0,0x79,0xe0,0x3f,0xc0,0x1f,0x80,0x0f,0x00,0x06,0x00,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x57,    //Char:[W]
        .fbitmap={0x00,0x00,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x66,0x60,0x66,0x60,0x66,0x60,0x66,0x60,0x66,0x60,0x6e,0xe0,0x7f,0xe0,0x3f,0xc0,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x58,    //Char:[X]
        .fbitmap={0x00,0x00,0x60,0x60,0x60,0x60,0x60,0x60,0x70,0xe0,0x39,0xc0,0x1f,0x80,0x0f,0x00,0x0f,0x00,0x1f,0x80,0x39,0xc0,0x70,0xe0,0x60,0x60,0x60,0x60,0x60,0x60,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x59,    //Char:[Y]
        .fbitmap={0x00,0x00,0x60,0x60,0x60,0x60,0x60,0x60,0x70,0xe0,0x39,0xc0,0x1f,0x80,0x0f,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x5a,    //Char:[Z]
        .fbitmap={0x00,0x00,0x7f,0xe0,0x7f,0xe0,0x00,0x60,0x00,0xe0,0x01,0xc0,0x03,0x80,0x07,0x00,0x0e,0x00,0x1c,0x00,0x38,0x00,0x70,0x00,0x60,0x00,0x7f,0xe0,0x7f,0xe0,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x5b,    //Char:[[]
        .fbitmap={0x00,0x00,0x07,0x80,0x07,0x80,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x07,0x80,0x07,0x80,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x5c,    //Char:[\]
        .fbitmap={0x00,0x00,0x60,0x00,0x60,0x00,0x60,0x00,0x70,0x00,0x38,0x00,0x1c,0x00,0x0e,0x00,0x07,0x00,0x03,0x80,0x01,0xc0,0x00,0xe0,0x00,0x60,0x00,0x60,0x00,0x60,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x5d,    //Char:[]]
        .fbitmap={0x00,0x00,0x1e,0x00,0x1e,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x1e,0x00,0x1e,0x00,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x5e,    //Char:[^]
        .fbitmap={0x00,0x00,0x06,0x00,0x0f,0x00,0x1f,0x80,0x39,0xc0,0x70,0xe0,0x60,0x60,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x5f,    //Char:[_]
        .fbitmap={0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x7f,0xe0,0x7f,0xe0,0x00,0x00,}
    },
    {
        .font=0x60,    //Char:[`]
        .fbitmap={0x00,0x00,0x06,0x00,0x07,0x00,0x03,0x80,0x01,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x61,    //Char:[a]
        .fbitmap={0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x1f,0xc0,0x1f,0xe0,0x00,0x60,0x00,0x60,0x3f,0xe0,0x7f,0xe0,0x60,0x60,0x60,0x60,0x7f,0xe0,0x3f,0xe0,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x62,    //Char:[b]
        .fbitmap={0x00,0x00,0x60,0x00,0x60,0x00,0x60,0x00,0x60,0x00,0x7f,0xc0,0x7f,0xe0,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x7f,0xe0,0x7f,0xc0,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x63,    //Char:[c]
        .fbitmap={0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x3f,0xc0,0x7f,0xe0,0x60,0x60,0x60,0x60,0x60,0x00,0x60,0x00,0x60,0x60,0x60,0x60,0x7f,0xe0,0x3f,0xc0,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x64,    //Char:[d]
        .fbitmap={0x00,0x00,0x00,0x60,0x00,0x60,0x00,0x60,0x00,0x60,0x3f,0xe0,0x7f,0xe0,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x7f,0xe0,0x3f,0xe0,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x65,    //Char:[e]
        .fbitmap={0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x3f,0xc0,0x7f,0xe0,0x60,0x60,0x60,0x60,0x7f,0xe0,0x7f,0xe0,0x60,0x00,0x60,0x00,0x7f,0x80,0x3f,0x80,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x66,    //Char:[f]
        .fbitmap={0x00,0x00,0x03,0xe0,0x07,0xe0,0x06,0x00,0x06,0x00,0x1f,0x80,0x1f,0x80,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x67,    //Char:[g]
        .fbitmap={0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x3f,0xe0,0x7f,0xe0,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x7f,0xe0,0x3f,0xe0,0x00,0x60,0x00,0x60,0x1f,0xe0,0x1f,0xc0,0x00,0x00,}
    },
    {
        .font=0x68,    //Char:[h]
        .fbitmap={0x00,0x00,0x60,0x00,0x60,0x00,0x60,0x00,0x60,0x00,0x7f,0xc0,0x7f,0xe0,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x69,    //Char:[i]
        .fbitmap={0x00,0x00,0x06,0x00,0x06,0x00,0x00,0x00,0x00,0x00,0x1e,0x00,0x1e,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x1f,0x80,0x1f,0x80,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x6a,    //Char:[j]
        .fbitmap={0x00,0x00,0x01,0x80,0x01,0x80,0x00,0x00,0x00,0x00,0x07,0x80,0x07,0x80,0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,0x61,0x80,0x61,0x80,0x7f,0x80,0x3f,0x00,0x00,0x00,}
    },
    {
        .font=0x6b,    //Char:[k]
        .fbitmap={0x00,0x00,0x18,0x00,0x18,0x00,0x18,0x00,0x18,0x00,0x18,0x60,0x18,0xe0,0x19,0xc0,0x1b,0x80,0x1f,0x00,0x1f,0x00,0x1f,0x80,0x19,0xc0,0x18,0xe0,0x18,0x60,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x6c,    //Char:[l]
        .fbitmap={0x00,0x00,0x1e,0x00,0x1e,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x1f,0x80,0x1f,0x80,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x6d,    //Char:[m]
        .fbitmap={0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x7f,0xc0,0x7f,0xe0,0x6e,0xe0,0x66,0x60,0x66,0x60,0x66,0x60,0x66,0x60,0x66,0x60,0x66,0x60,0x66,0x60,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x6e,    //Char:[n]
        .fbitmap={0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x7f,0xc0,0x7f,0xe0,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x6f,    //Char:[o]
        .fbitmap={0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x3f,0xc0,0x7f,0xe0,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x7f,0xe0,0x3f,0xc0,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x70,    //Char:[p]
        .fbitmap={0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x7f,0xc0,0x7f,0xe0,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x7f,0xe0,0x7f,0xc0,0x60,0x00,0x60,0x00,0x60,0x00,0x60,0x00,0x00,0x00,}
    },
    {
        .font=0x71,    //Char:[q]
        .fbitmap={0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x3f,0xe0,0x7f,0xe0,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x7f,0xe0,0x3f,0xe0,0x00,0x60,0x00,0x60,0x00,0x60,0x00,0x60,0x00,0x00,}
    },
    {
        .font=0x72,    //Char:[r]
        .fbitmap={0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x1f,0xc0,0x1f,0xe0,0x18,0xe0,0x18,0x60,0x18,0x00,0x18,0x00,0x18,0x00,0x18,0x00,0x18,0x00,0x18,0x00,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x73,    //Char:[s]
        .fbitmap={0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x3f,0xe0,0x7f,0xe0,0x60,0x00,0x60,0x00,0x7f,0xc0,0x3f,0xe0,0x00,0xe0,0x00,0x60,0x7f,0xe0,0x7f,0xc0,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x74,    //Char:[t]
        .fbitmap={0x00,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x1f,0xe0,0x1f,0xe0,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x07,0xe0,0x03,0xe0,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x75,    //Char:[u]
        .fbitmap={0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x7f,0xe0,0x3f,0xe0,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x76,    //Char:[v]
        .fbitmap={0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x70,0xe0,0x79,0xe0,0x3f,0xc0,0x1f,0x80,0x0f,0x00,0x06,0x00,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x77,    //Char:[w]
        .fbitmap={0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x60,0x60,0x60,0x60,0x66,0x60,0x66,0x60,0x66,0x60,0x66,0x60,0x66,0x60,0x6e,0xe0,0x7f,0xe0,0x3f,0xc0,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x78,    //Char:[x]
        .fbitmap={0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x60,0x60,0x70,0xe0,0x39,0xc0,0x1f,0x80,0x0f,0x00,0x0f,0x00,0x1f,0x80,0x39,0xc0,0x70,0xe0,0x60,0x60,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x79,    //Char:[y]
        .fbitmap={0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x7f,0xe0,0x3f,0xe0,0x00,0x60,0x00,0x60,0x1f,0xe0,0x1f,0xc0,0x00,0x00,}
    },
    {
        .font=0x7a,    //Char:[z]
        .fbitmap={0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x7f,0xe0,0x7f,0xe0,0x01,0xc0,0x03,0x80,0x07,0x00,0x0e,0x00,0x1c,0x00,0x38,0x00,0x7f,0xe0,0x7f,0xe0,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x7b,    //Char:[{]
        .fbitmap={0x00,0x00,0x03,0x80,0x07,0x80,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x1e,0x00,0x1e,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x07,0x80,0x03,0x80,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x7c,    //Char:[|]
        .fbitmap={0x00,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x7d,    //Char:[}]
        .fbitmap={0x00,0x00,0x1c,0x00,0x1e,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x07,0x80,0x07,0x80,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x1e,0x00,0x1c,0x00,0x00,0x00,0x00,0x00,0x00,0x00,}
    },
    {
        .font=0x7e,    //Char:[~]
        .fbitmap={0x00,0x00,0x3c,0x00,0x7e,0x00,0x6e,0x60,0x66,0xe0,0x07,0xe0,0x03,0xc0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,}
    },

};

int fscaler300_set_palette(int dev, int idx, int crcby)
{
    u32 base = 0;

    base = priv.engine[dev].fscaler300_reg + 0x5300;

    priv.global_param.init.palette[idx].crcby = crcby;

    *(volatile unsigned int *)(base + (idx * 0x4)) = crcby;

    return 0;
}

int fscaler300_osd_set_char(int dev, scl_osd_char_t *osd_char)
{
    int i, row, font_ram_index = 0;
    u32 base = 0;
    int replace = 0;
    u64 tmp;
    int fg_color, bg_color;

    base = priv.engine[dev].fscaler300_reg + 0x10000;

    fg_color = priv.engine[dev].font_data.fg_color;
    bg_color = priv.engine[dev].font_data.bg_color;

    /* check osd font index */
    if (osd_char->font >= SCALER300_OSD_FONT_CHAR_MAX) {
        printk("scaler300-%d font index(0x%x) over range!\n", dev, osd_char->font);
        return -1;
    }

    /* check font exist or not ? */
    if (priv.engine[dev].font_data.ram_map[osd_char->font]) {
        font_ram_index = priv.engine[dev].font_data.index[osd_char->font];
        replace = 1;
    }
    else {
        /*
         * Inserted font not exist, we need to check current font ram space
         * have free space or not?
         */
        if (priv.engine[dev].font_data.count >= SCALER300_OSD_FONT_CHAR_MAX) {
            printk("scaler300-%d osd font ram is full!\n", dev);
            return -1;
        }
        else {
            for (font_ram_index = 0; font_ram_index < SCALER300_OSD_FONT_CHAR_MAX; font_ram_index++) {
                if (!priv.engine[dev].font_data.ram_map[font_ram_index])
                    break;
            }
        }
    }

    /* Font ram space not available */
    if (font_ram_index >= SCALER300_OSD_FONT_CHAR_MAX) {
        printk("scaler300-%d osd font database error!\n", dev);
        return -1;
    }

    /* Update font to osd font ram */
    for (row = 0; row < SCALER300_OSD_FONT_ROW_SIZE; row++) {
        tmp = 0;
        for (i = 0; i < 8; i++) {
            if (osd_char->fbitmap[row * 2] & (0x1 << i))
                tmp |= ((u64)fg_color << ((i * 4) + 16));
            else
                tmp |= ((u64)bg_color << ((i * 4) + 16));
        }

        for (i = 0; i < 4; i++) {
            if (osd_char->fbitmap[(row * 2) + 1] & (0x1 << (i + 4)))
                tmp |= ((u64)fg_color << (i * 4));
            else
                tmp |= ((u64)bg_color << (i * 4));
        }
        *(volatile unsigned long long *)(base + SCALER300_OSD_CHAR_OFFSET(font_ram_index) + row * 8) = tmp;
    }

    /* Update osd font database */
    if (!replace) {
        priv.engine[dev].font_data.ram_map[font_ram_index]   = 1;
        priv.engine[dev].font_data.index_map[osd_char->font] = 1;
        priv.engine[dev].font_data.index[osd_char->font]     = font_ram_index;
        priv.engine[dev].font_data.count++;
    }

    return 0;
}

int fscaler300_osd_get_index(int dev, u16 font)
{
    if (priv.engine[dev].font_data.index_map[font % SCALER300_OSD_FONT_CHAR_MAX])
        return priv.engine[dev].font_data.index[font % SCALER300_OSD_FONT_CHAR_MAX];

    return 0;
}

int fscaler300_osd_set_disp_string(int dev, u32 start, u16 *font_data, u16 font_num)
{
    int i;
    u32 base = 0;

    base = priv.engine[dev].fscaler300_reg + 0x30000;

    if ((start + font_num) >= SCALER300_OSD_DISPLAY_MAX)
        return -1;

    /* Update osd display ram */
    for (i = 0; i < font_num; i++)
        *(volatile unsigned int *)(base + ((start + i) << 3)) = fscaler300_osd_get_index(dev, font_data[i]);

    return 0;
}

int fscaler300_osd_set_color(int fd, int dev, int win_idx, osd_color_t *param)
{
    int i, j, k;
    u32 base = 0;
    int font_ram_index = 0;
    int idx;
    u32 font_low, font_high, font_addr_index, addr;
    u8  fg_color, bg_color;
    u32 temp = 0;
    u32 font = 0;
    int osd_tmp_sel = 0;

    idx = MAKE_IDX(max_minors, ENTITY_FD_ENGINE(fd), ENTITY_FD_MINOR(fd));

    base = priv.engine[dev].fscaler300_reg + 0x10000;

    fg_color = priv.engine[dev].font_data.fg_color;
    bg_color = priv.engine[dev].font_data.bg_color;

    /* updata font rom */
    for (i = 0; i < SCALER300_OSD_FONT_CHAR_MAX; i++) {
        /* if font exist, get font index in OSD FONT MEMORY */
        if (priv.engine[dev].font_data.index_map[i])
            font_ram_index = priv.engine[dev].font_data.index[i];
        else
            continue;
        /* get font addr in OSD FONT MEMORY */
        font_addr_index = (font_ram_index * SCALER300_OSD_FONT_ROW_SIZE * 64) / 8;
        /* update exist font's fg_color & bg_color in osd font ram */
        for (j = 0; j < SCALER300_OSD_FONT_ROW_SIZE; j++) {
            addr = font_addr_index + j * 0x8;
            font = 0;
            font_low = *(volatile unsigned int *)(base + addr);
            font_high = *(volatile unsigned int *)(base + addr + 0x4);
            /* update low part */
            for (k = 0; k < 8; k++) {
                if ((font_low & (0xf << (k * 4))) == (fg_color << (k * 4)))
                    temp = param->fg_color << (k * 4);
                else
                    temp = param->bg_color << (k * 4);

                font |= temp;
            }
            *(volatile unsigned int *)(base + addr) = font;
            font = 0;
            /* update high part */
            for (k = 0; k < 4; k++) {
                if ((font_high & (0xf << (k * 4))) == (fg_color << (k * 4)))
                    temp = param->fg_color << (k * 4);
                else
                    temp = param->bg_color << (k * 4);

                font |= temp;
            }
            *(volatile unsigned int *)(base + addr + 0x4) = font;
        }
    }

    /* background color */
    priv.engine[dev].font_data.bg_color = param->bg_color;
    /* foreground color */
    priv.engine[dev].font_data.fg_color = param->fg_color;

    /* get temporal ping pong buffer */
    osd_tmp_sel = atomic_read(&priv.global_param.chn_global[idx].osd_tmp_sel[win_idx]);

    /* osd window background color */
    for (i = 0; i < max_minors; i++) {
        for (j = 0; j < OSD_MAX; j++)
            priv.global_param.chn_global[idx].osd[osd_tmp_sel - 1][j].bg_color = param->bg_color;
    }

    return 0;
}

int fscaler300_set_img_border_color(int dev, int color)
{
#if 0
    u32 base = 0;
    u32 temp;

    base = priv.engine[dev].fscaler300_reg;

    priv.global_param.init.img_border.color = color;

    /* image border color */
    temp = *(volatile unsigned int *)(base + 0xb8);

    temp &= 0xffff0fff;

    temp |= (color << 12);

    *(volatile unsigned int *)(base + 0xb8) = temp;
#endif
    return 0;
}

int fscaler300_osd_set_smooth(int dev, osd_smooth_t *param)
{
    u32 base = 0;
    u32 temp;

    base = priv.engine[dev].fscaler300_reg;

    temp = *(volatile unsigned int *)(base + 0xb8);

    temp &= 0xfffffff9;

    temp |= ((param->onoff << 1) | (param->level << 2));

    *(volatile unsigned int *)(base + 0xb8) = temp;

    priv.global_param.init.osd_smooth.onoff = param->onoff;
    priv.global_param.init.osd_smooth.level = param->level;

    return 0;
}

int fscaler300_osd_init(void)
{
    int i, j, ret, dev;
    int fontcount;

    /* caculate default OSD font character count */
    fontcount = sizeof(SCALER300_OSD_Default_Char) / sizeof(osd_char_t);

    /* check default osd character count */
    if (fontcount > SCALER300_OSD_FONT_CHAR_MAX)
        fontcount = SCALER300_OSD_FONT_CHAR_MAX;

    /* set fg_color, bg_color */
    for (dev = 0; dev < priv.eng_num; dev++) {
        priv.engine[dev].font_data.bg_color = WHITE_IDX;   ///< white
        priv.engine[dev].font_data.fg_color = BLACK_IDX;   ///< black
    }
    /* Load default osd character to osd font ram */
    for (i = 0; i < fontcount; i++) {
        for (dev = 0; dev < priv.eng_num; dev++) {
            ret = fscaler300_osd_set_char(dev, &SCALER300_OSD_Default_Char[i]);
            if (ret < 0) {
                printk("add osd character#%d failed!!\n", i);
                break;
            }
        }
    }

    for(i = 0; i < max_minors; i++) {
        for(j = 0; j < OSD_MAX; j++) {
            priv.global_param.chn_global[i].osd[0][j].bg_color = priv.engine[dev].font_data.bg_color;
            priv.global_param.chn_global[i].osd[1][j].bg_color = priv.engine[dev].font_data.bg_color;
        }
    }

    return 0;
}
